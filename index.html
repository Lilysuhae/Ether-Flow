<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://cdn.jsdelivr.net; font-src 'self' data: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net; img-src 'self' data:; connect-src 'self';">
    <title>Ether Flow</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body class="font-paperlogy">
    <div id="app">
        <div class="window-controls">
            <button id="pin-btn" class="win-btn active" onclick="window.toggleAlwaysOnTop()" data-tooltip="항상 위에 고정">
                <i class="fas fa-thumbtack"></i>
            </button>
            <button class="win-btn" onclick="window.toggleSettings(true)" data-tooltip="설정">
                <i class="fas fa-cog"></i>
            </button>
            <button class="win-btn" onclick="window.minimizeApp()" data-tooltip="최소화">
                <i class="fas fa-minus"></i>
            </button>
            <button class="win-btn close" onclick="window.askClose()" data-tooltip="종료">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <header id="drag-header">
            <div class="header-left">
                <h2 class="ether-glow-title">Ether Flow</h2>
            </div>
            <div class="header-right">
                <span id="work-points">0 Et</span>
                <span id="status-badge" class="waiting">
                    <i class="fas fa-hourglass-start"></i> 대기 중
                </span>
            </div>
        </header>

        <div id="main-layout">
            <div id="left-side">
                <div id="game-view">
                    <div id="mailbox-messenger" onclick="window.toggleMailbox(true)" style="display: none;">
                        <i class="fa-solid fa-envelope-open-text"></i>
                        <span class="messenger-glow"></span>
                    </div>

                    <div id="intimacy-display">
                        <div class="intimacy-info-row">
                            <span id="char-name-tag">알</span>
                            <span id="intimacy-stat"><i class="fas fa-heart"></i> <span id="intimacy-val">0.0</span></span>
                        </div>
                        <div class="intimacy-container">
                            <div id="intimacy-bar"></div>
                        </div>
                    </div>

                    <div id="character-container">
                        <canvas id="main-canvas"></canvas>
                    </div>

                    <div id="dialogue-bubble" class="speech-bubble">
                        <p id="dialogue-text"></p>
                    </div>

                    <div id="hatch-flash"></div>

                    <div id="stats-area">
                        <div class="stats-header">
                            <span id="level-display">LV.<span id="level-num">1</span></span>
                            <span id="exp-percent"></span>
                        </div>
                        <div class="progress-container">
                            <div id="exp-bar"></div>
                        </div>
                        <div class="time-stats">
                            <div class="time-item">오늘 <b id="today-time">00:00:00</b></div>
                            <div class="time-item">누적 <b id="total-time">00:00:00</b></div>
                        </div>
                    </div>
                </div>

                <div class="control-group game">
                    <label class="group-label">Alchemy & Connection</label>
                    <div class="action-row">
                        <button class="btn btn-game" onclick="window.openShop()">
                            <i class="fas fa-gift"></i>상점
                        </button>
                        <button class="btn btn-game" onclick="window.openInventory()">
                            <i class="fa-solid fa-bag-shopping"></i>가방
                        </button>
                        <button class="btn btn-action" onclick="window.openSedimentModal()">
                            <i class="fas fa-egg"></i> 연성
                        </button>
                        <button class="btn btn-game" onclick="window.toggleAchievementModal(true)">
                            <i class="fas fa-medal"></i>업적
                        </button>
                        <button class="btn btn-game" onclick="window.toggleCollection(true)">
                            <i class="fas fa-book-bookmark"></i>도감
                        </button>
                        <button class="btn btn-game" onclick="window.toggleMailbox(true)">
                            <i class="fas fa-envelope"></i>서신
                            <span id="mail-badge" class="mail-badge" style="display: none;">0</span>
                        </button>
                    </div>
                </div>

                <div class="control-group focus">
                    <label class="group-label">Work</label>
                    <div class="action-row">
                        <button class="btn btn-task" onclick="window.openDailyLog()">
                            <i class="fas fa-chart-pie"></i>작업기록
                        </button>
                    </div>
                </div>
            </div>

            <div id="controls" class="right-side">
                <div class="control-group focus">
                    <label class="group-label">사용중인 작업 도구</label>
                    <div id="current-app-box" class="current-app-box">
                        <i class="fa-regular fa-window-restore"></i>
                        <span id="current-app-name">활성 창 감지 중...</span>
                        <button class="btn-add-current" onclick="window.addCurrentApp()" data-tooltip="작업 도구 등록">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>

                    <div id="work-apps-accordion" class="accordion active">
                        <div class="accordion-header" onclick="window.toggleAccordion('work-apps-accordion')">
                            <span class="group-label">등록된 작업 도구</span>
                            <i class="fas fa-chevron-down accordion-icon"></i>
                        </div>
                        <div class="accordion-content">
                            <ul id="work-app-list"></ul>
                        </div>
                    </div>

                    <div id="molip-habit-accordion" class="accordion active">
                        <div class="accordion-header" onclick="window.toggleAccordion('molip-habit-accordion')">
                            <div class="accordion-title-group"> <span class="group-label">매일의 습관</span>
                                <span id="habit-count-badge" class="count-badge">0/0</span>
                            </div>
                            <i class="fas fa-chevron-down accordion-icon"></i>
                        </div>
                        <div class="accordion-content">
                            <div class="todo-input-group">
                                <input type="text" id="habit-input" placeholder="매일 반복할 습관 등록">
                                <button class="btn-todo-add" onclick="window.addHabit()">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                            <ul id="habit-list" class="todo-list-container"></ul>
                        </div>
                    </div>

                    <div id="molip-todo-accordion" class="accordion active">
                        <div class="accordion-header" onclick="window.toggleAccordion('molip-todo-accordion')">
                            <div class="accordion-title-group"> <span class="group-label">오늘의 할 일</span>
                                <span id="todo-count-badge" class="count-badge">0/0</span>
                            </div>
                            <i class="fas fa-chevron-down accordion-icon"></i>
                        </div>
                        <div class="accordion-content">
                            <div class="todo-input-group">
                                <input type="text" id="todo-input" placeholder="할 일 등록">
                                <button class="btn-todo-add" onclick="window.addMolipTodo()">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                            <ul id="todo-list" class="todo-list-container"></ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="effect-layer"></div>
    </div>

    <div id="settings-modal" class="modal-overlay">
        <div class="modal-window">
            <div class="modal-header">
                <h3><i class="fas fa-cog"></i> 시스템 설정</h3>
                <button class="win-btn" onclick="window.toggleSettings(false)"><i class="fas fa-times"></i></button>
            </div>
            <div class="settings-tabs">
                <button id="btn-tab-general" class="tab-btn active" onclick="window.switchSettingsTab('general')">일반</button>
                <button id="btn-tab-apps" class="tab-btn" onclick="window.switchSettingsTab('apps')">작업 설정</button>
                <button id="btn-tab-distract" class="tab-btn" onclick="window.switchSettingsTab('distract')">딴짓 설정</button>
            </div>
            <div class="settings-body">
                <div id="tab-content-general" class="tab-content active">
                    <div class="settings-group">
                        <label class="settings-label">폰트 설정</label>
                        <div class="pretty-radio-group">
                            <label class="pretty-radio">
                                <input type="radio" name="font-choice" value="paperlogy" onchange="window.changeFont('paperlogy')">
                                <div class="radio-content"><i class="fas fa-font"></i><span>페이퍼로지</span></div>
                            </label>
                            <label class="pretty-radio">
                                <input type="radio" name="font-choice" value="Galmuri11" onchange="window.changeFont('Galmuri11')">
                                <div class="radio-content"><i class="fas fa-font"></i><span>갈무리11</span></div>
                            </label>
                        </div>
                    </div>
                    <div class="settings-group">
                        <label class="settings-label">화면 레이아웃</label>
                        <div id="horizontal-mode-toggle" class="window-mode-toggle" onclick="window.toggleHorizontalMode()">
                            <span>넓게 보기</span>
                            <div class="switch-base">
                                <div class="switch-circle"></div>
                            </div>
                        </div>
                    </div>
                    <div class="settings-group" style="margin-top: 40px;">
                        <button class="btn btn-danger" style="width: 100%;" onclick="window.resetAllData()">전체 데이터 초기화</button>
                    </div>
                </div>

                <div id="tab-content-apps" class="tab-content" style="display: none;">
                    <div class="settings-group">
                        <label class="settings-label">일과 초기화 기준 시간</label>
                        <div class="pretty-select-container">
                            <select id="reset-hour-select" class="pretty-select" onchange="window.changeResetHour(this.value)">
                                <option value="0">오전 00:00 (자정)</option>
                                <option value="4">오전 04:00 (새벽)</option>
                                <option value="5">오전 05:00 (새벽)</option>
                                <option value="6">오전 06:00 (아침)</option>
                            </select>
                            <i class="fas fa-chevron-down select-arrow"></i>
                        </div>
                        <p class="setting-hint">설정한 시간 이전의 작업은 '어제' 기록으로 합산됩니다.</p>
                    </div>
                    <div class="settings-group">
                        <label class="settings-label">오늘의 할일 목록 관리</label>
                        <div id="hide-completed-toggle" class="window-mode-toggle" onclick="window.toggleHideCompleted()">
                            <span>완료된 항목 숨기기</span>
                            <div id="hide-completed-switch" class="switch-base">
                                <div class="switch-circle"></div>
                            </div>
                        </div>
                        <div id="show-past-toggle" class="window-mode-toggle" style="margin-top: 8px;" onclick="window.toggleShowPast()">
                            <span>이전에 등록한 항목 표시</span>
                            <div class="switch-base">
                                <div class="switch-circle"></div>
                            </div>
                        </div>
                    </div>
                    <div class="settings-group">
                        <label class="settings-label">데이터 최적화</label>
                        <div id="auto-delete-toggle" class="window-mode-toggle" onclick="window.toggleAutoDelete()">
                            <span>7일 지난 할 일 완료 항목 자동 삭제</span>
                            <div class="switch-base">
                                <div class="switch-circle"></div>
                            </div>
                        </div>
                        <p class="setting-hint">완료된 지 일주일이 지난 할 일들을 자동으로 정리합니다.</p>
                    </div>
                </div>

                <div id="tab-content-distract" class="tab-content" style="display: none;">
                    <div class="settings-group">
                        <label class="settings-label">현재 실행 중인 도구 등록</label>
                        <div class="current-app-box" style="margin-bottom: 10px;">
                            <i class="fas fa-ghost"></i>
                            <span id="current-distract-name">도구 감지 중...</span>
                            <button class="btn-add-current btn-danger" onclick="window.addDistractionApp()" data-tooltip="딴짓 차단 등록" style="background: var(--danger-red) !important;">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>

                        <div id="distract-apps-accordion" class="accordion active">
                            <div class="accordion-header" onclick="window.toggleAccordion('distract-apps-accordion')">
                                <label class="settings-label">등록된 딴짓 도구 목록</label>
                                <i class="fas fa-chevron-down accordion-icon"></i>
                            </div>
                            <div class="accordion-content">
                                <ul id="distract-app-list-settings" class="work-app-container"></ul>
                            </div>
                        </div>
                    </div>
                    <p class="setting-hint">여기에 등록된 도구를 사용하면 딴짓임을 감지하고 상태 뱃지에 <b>딴짓 중</b>으로 표시됩니다.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="inventory-modal" class="modal-overlay" style="display: none;">
        <div class="modal-window inventory-window-vertical">
            <div class="modal-header">
                <div class="header-title">
                    <h3>가방</h3>
                </div>
                <button class="close-btn" onclick="window.closeInventory()">&times;</button>
            </div>

            <div id="inventory-grid" class="inventory-grid-section">
            </div>

            <div id="inventory-detail" class="inventory-detail-drawer">
                <div id="inventory-detail-content" style="display: none; flex-direction: column; align-items: center; text-align: center; width: 100%;">
                    <div id="inventory-detail-icon" style="font-size: 3rem;"></div>
                    <h4 id="inventory-detail-name" style="margin-bottom: 10px; color: var(--primary-gold); font-family: 'paperlogy';"></h4>
                    <p id="inventory-detail-desc" style="font-size: 0.85rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px; font-family: 'paperlogy';"></p>
                    <button id="inventory-action-btn" class="btn btn-game" style="width: 80%; margin: 0 auto; background:var(--primary-gold);">사용하기</button>
                </div>
                
                <div id="inventory-empty-hint" class="empty-inventory-hint" style="color:rgba(255,255,255,0.2); margin-top: 60px; text-align: center;">
                    아이템을 선택해 정보를 확인하세요.
                </div>
            </div>
        </div>
    </div>

    <div id="mailbox-modal" class="modal-overlay">
        <div class="modal-window mailbox-window">
            <div class="modal-header">
                <h3>전해진 서신</h3>
                <button class="win-btn" onclick="window.toggleMailbox(false)"><i class="fas fa-times"></i></button>
            </div>
            <div id="mail-list" class="mail-list-container"></div>
        </div>
    </div>

    <div id="letter-view-modal" class="modal-overlay" style="display: none;">
        <div class="mail-paper-wrap">
            <div class="mail-paper">
                <div class="letter-header">
                    <h2 id="letter-detail-title"></h2>
                    <div id="letter-detail-sender"></div>
                </div>
                <div id="letter-view-content"></div>
                <div id="letter-reward-zone"></div>
                <div class="letter-footer">
                    <button class="btn-letter-close" onclick="window.closeLetterView()">접어두기</button>
                </div>
            </div>
        </div>
    </div>

    <div id="sediment-modal" class="modal-overlay" style="display: none;">
        <div class="modal-window glass">
            <div class="modal-header">
                <h3>연성로</h3>
                <div class="header-btns">
                    <button class="win-btn" onclick="window.closeSedimentModal()"><i class="fas fa-times"></i></button>
                </div>
            </div>

            <div class="modal-body">
                <div class="saturation-area">
                    <div class="area-label">현재 에테르 침전 농도 <span id="sat-value">0%</span></div>
                    <div class="sat-bar-container">
                        <div id="sat-bar-fill" style="width: 0%;"></div>
                    </div>
                    <p class="sat-guide">할일에 몰입할수록 침전 농도가 오르며,<br>농도가 높을수록 희귀한 부산물을 호문클루스가 수집합니다.</p>
                </div>

                <div class="sediment-inventory">
                    <label>건져낸 부산물</label>
                    <div class="inventory-grid" id="sediment-grid">
                    </div>
                </div>

                <div class="abyss-altar">
                    <h4>호문클루스 연성 재료</h4>
                    <p>어떤 생명이 탄생할지 알 수 없습니다.</p>
                    <div class="recipe-check">
                        <div id="req-ether" class="req-item"><span class="dot"></span> 에테르 : <span class="val">0 / 10,000</span>Et</div>
                        <div id="req-sludge" class="req-item"><span class="dot"></span> 에테르 슬러지 : <span class="val">0 / 15</span></div>
                    </div>

                    <button id="btn-abyss-craft" class="btn-craft-large disabled" onclick="window.startAbyssCrafting()">
                        재료가 부족하여 연성할 수 없습니다
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="collection-modal" class="modal-overlay">
        <div class="modal-window">
            <div class="modal-header">
                <h3>도감</h3>
                <button class="win-btn" onclick="window.toggleCollection(false)"><i class="fas fa-times"></i></button>
            </div>
            <div id="collection-grid" class="grid-container"></div>
        </div>
    </div>

    <div id="char-detail-modal" class="modal-overlay">
        <div class="modal-window detail-window">
            <div class="modal-header">
                <h3><i class="fas fa-info-circle"></i> 호문클루스 정보</h3>
                <button class="win-btn" onclick="window.closeCharDetail()"><i class="fas fa-times"></i></button>
            </div>
            <div class="detail-body">
                <div class="detail-top-section">
                    <div class="detail-img-box"><img id="detail-char-img" src="" alt=""></div>
                    <div class="detail-main-stats">
                        <div class="detail-stat-item"><label>이름</label><span id="detail-char-name">-</span></div>
                        <div class="detail-stat-item"><label>성장 단계</label><span id="detail-char-stage">-</span></div>
                        <div class="detail-stat-item"><label>함께한 시간</label><span id="detail-total-companionship">0h 0m</span></div>
                    </div>
                </div>
                <div class="detail-progress-section">
                    <div class="detail-label-row"><label>성장 진행도</label><span id="detail-growth-text">0 / 1440 min</span></div>
                    <div class="progress-container">
                        <div id="detail-growth-bar"></div>
                    </div>
                </div>
                <div class="detail-desc-section"><label>기록된 내력</label>
                    <p id="detail-char-desc"></p>
                </div>
                <div class="info-row preferences-block" style="display: block;">
                    <div class="pref-section" id="section-favorite">
                        <div class="pref-title fav">
                            <i class="fas fa-heart"></i> 선호하는 선물
                        </div>
                        <div class="pref-items-container" id="list-favorite">
                            </div>
                    </div>

                    <div class="pref-section" id="section-dislike" style="margin-top: 12px;">
                        <div class="pref-title dis">
                            <i class="fas fa-skull"></i> 싫어하는 선물
                        </div>
                        <div class="pref-items-container" id="list-dislike">
                            </div>
                    </div>
                </div>
                <div class="detail-footer"><button id="detail-select-btn" class="btn btn-primary" style="width: 100%;">파트너로 선택하기</button></div>
            </div>
        </div>
    </div>

    <div id="shop-modal" class="modal-overlay" style="display: none;">
        <div class="modal-window glass-effect shop-window-glass">
            <div class="modal-header shop-header">
                <div class="header-title">
                    <h3>상점</h3>
                </div>
                <button class="close-btn" onclick="window.closeShop()">&times;</button>
            </div>

            <div class="shop-tab-bar">
                <button class="shop-tab-re active" data-target="gift" onclick="window.switchShopTab('gift', this)">선물</button>
                <button class="shop-tab-re" data-target="material" onclick="window.switchShopTab('material', this)">연구 재료</button>
            </div>

            <div id="shop-grid" class="shop-grid-glass"></div>

            <div class="shop-footer-glass">
                <div class="shop-ether-info">
                    <span class="label">보유 에테르:</span>
                    <span id="shop-ether-count">0</span>
                    <span class="unit">Et</span>
                </div>
            </div>
        </div>
    </div>

    <div id="achievement-modal" class="modal-overlay">
        <div class="modal-window detail-window">
            <div class="modal-header">
                <h3>업적</h3>
                <div class="header-btns">
                    <button class="win-btn" onclick="window.toggleAchievementModal(false)">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="detail-body">
                <div id="achievement-grid" class="achievement-grid-vibe">
                </div>
            </div>
        </div>
    </div>

    <div id="daily-log-modal" class="modal-overlay">
        <div class="modal-window detail-window">
            <div class="modal-header">
                <h3>작업기록</h3>
                <div class="header-btns">
                    <button class="win-btn" onclick="window.saveLogAsReceipt()" data-tooltip="영수증으로 저장"><i class="fas fa-camera"></i></button>
                    <button class="win-btn" onclick="window.closeDailyLog()"><i class="fas fa-times"></i></button>
                </div>
            </div>

            <div class="log-date-nav">
                <button class="nav-btn" onclick="window.changeLogDate(-1)"><i class="fas fa-chevron-left"></i></button>
                <span id="log-date-display">2026. 01. 18</span>
                <button class="nav-btn" onclick="window.changeLogDate(1)"><i class="fas fa-chevron-right"></i></button>
            </div>

            <div class="shop-tab-bar" style="margin-bottom: 15px;">
                <button class="shop-tab-re active" onclick="window.switchLogTab('list', this)">목록</button>
                <button class="shop-tab-re" onclick="window.switchLogTab('chart', this)">통계</button>
            </div>

            <div id="daily-log-list" class="detail-body"></div>

            <div id="daily-log-chart-area" class="detail-body" style="display: none;">
                <div class="stat-container">
                    <div class="stat-label-row">
                        <span style="color: #a0c4ff;">집중 <b id="stat-work-percent">0%</b></span>
                        <span style="color: #ff6b6b;">딴짓 <b id="stat-distract-percent">0%</b></span>
                    </div>
                    <div class="stat-gauge-total">
                        <div id="stat-bar-work" style="width: 50%; background: #a0c4ff; transition: width 0.5s ease;"></div>
                        <div id="stat-bar-distract" style="width: 50%; background: #ff6b6b; transition: width 0.5s ease;"></div>
                    </div>
                </div>

                <div class="stat-detail-group">
                    <label class="stat-group-label work"><i class="fas fa-fire"></i> 집중 점유율</label>
                    <div id="stat-detail-list" class="stat-scroll-area"></div>
                </div>

                <div class="stat-detail-group">
                    <label class="stat-group-label distract"><i class="fas fa-ghost"></i> 딴짓 점유율</label>
                    <div id="stat-distract-detail-list" class="stat-scroll-area"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="exit-confirm-modal" class="modal-overlay">
        <div class="modal-window confirm-window">
            <div class="confirm-content">
                <h3>연구 종료</h3>
                <p>오늘의 일정을 마치고 연구실을 나가시겠습니까?</p>
            </div>
            <div class="confirm-actions">
                <button class="btn btn-modal-cancel" onclick="window.closeAllModals()">아니오</button>
                <button class="btn btn-modal-confirm" onclick="window.quitApp()">예</button>
            </div>
        </div>
    </div>

    <div id="receipt-wrapper">
        <div id="focus-receipt">
            <div class="receipt-header">
                <h2>ETHER FLOW</h2>
                <div class="receipt-info">
                    <p>RECEIPT NO: <span id="receipt-no">#0000</span></p>
                    <p>DATE: <span id="receipt-date">0000.00.00</span></p>
                    <p>PARTNER: <span id="receipt-char-name">-</span></p>
                </div>
            </div>
            <div class="receipt-divider"></div>
            <div id="receipt-items"></div>
            <div class="receipt-divider"></div>
            <div class="receipt-total"><span>TOTAL FOCUS</span><span id="receipt-total-time">00h 00m</span></div>
            <div class="barcode"></div>
            <div class="receipt-footer">
                <p class="thanks">THANK YOU FOR YOUR IMMERSION</p>
                <p class="signature">The Alchemist's Legacy</p>
            </div>
        </div>
    </div>

    <div id="alert-overlay" class="alert-overlay">
        <div class="alert-window">
            <div class="alert-content">
                <h3 id="alert-title">알림</h3>
                <p id="alert-message"></p>
            </div>
            <div class="alert-actions"><button class="btn btn-secondary" style="width: 100%; border-radius: 0 0 30px 30px;" onclick="window.closeAlert()">확인</button></div>
        </div>
    </div>
    <div id="toast-container" style="position: absolute; bottom: 120px; left: 50%; transform: translateX(-50%); z-index: 999999; pointer-events: none; display: flex; flex-direction: column; gap: 8px; align-items: center;"></div>

    <div id="intro-sequence">
        <div id="ritual-envelope" class="intro-step active" onclick="window.breakSeal()">
            <div class="envelope-body">
                <div class="seal-wax"></div>
            </div>
            <p class="click-guide">편지의 봉인을 해제하여 확인하십시오.</p>
        </div>
        <div id="legacy-letter" class="intro-step" onclick="window.resonanceStage()">
            <div class="letter-paper">
                <div id="letter-content"></div>
            </div>
            <p class="click-guide" style="color: rgba(44, 44, 46, 0.5); margin-top: 20px;">이름 모를 연금술사로부터</p>
        </div>
        <div id="resonance-stage" class="intro-step">
            <h2 class="resonance-guide">당신과 함께 할 호문클루스를 선택하세요.</h2>
            <div id="sphere-container"></div>
            <div id="ps-description"></div>
        </div>
    </div>

    <div id="intro-confirm-modal" class="modal-overlay" style="z-index: 600000; display: none;">
        <div class="modal-window confirm-window" style="border: 1px solid var(--primary-gold);">
            <div class="confirm-content">
                <h3 style="color: var(--primary-gold);">알 선택</h3>
                <p id="intro-confirm-msg" style="margin-top: 15px; line-height: 1.6; color: white;"></p>
            </div>
            <div class="confirm-actions">
                <button class="btn btn-modal-cancel" onclick="window.closeIntroConfirm()" style="color: var(--text-secondary);">뒤로</button>
                <button id="intro-confirm-btn" class="btn btn-modal-confirm" style="color: var(--primary-gold); font-weight: 800;">확인</button>
            </div>
        </div>
    </div>

    <div id="common-tooltip" class="tooltip-box" style="display: none;"></div>

    <script src="renderer.js"></script>
</body>

</html>